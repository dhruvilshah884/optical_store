<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Meta Tag -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="BigBazar - Multipurpose Ecommerce HTML Template">

    <meta name="author" content="root">
    <title>BigBazar - Users Report</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="/images/favicon.png">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">

    <!--  CSS Style -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/all.min.css">
    <link rel="stylesheet" href="/css/animate.min.css">
    <link rel="stylesheet" href="/webfonts/flaticon/flaticon.css">
    <link rel="stylesheet" href="/css/owl.carousel.min.css">
    <link rel="stylesheet" href="/css/jquery.fancybox.min.css">
    <link rel="stylesheet" href="/css/layerslider.css">
    <link rel="stylesheet" href="/css/template.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/category/optical-shop.css">

    <style>

    form {
        width: 400px;
        margin: auto;
    }

    .total-label {
        display: block;
        text-align: center;
        margin-bottom: 10px;
        margin-top: -20px;
    }

    </style>

</head>

<body>
    

        <!-- breadcrumb -->
        <div class="full-row bg-light py-5">
            <div class="container">
                <div class="row text-secondary">
                    <div class="col-sm-6">
                        <h3 class="mb-2 text-secondary">Users Report</h3>
                    </div>
                    <div class="col-sm-6">
                        <nav aria-label="breadcrumb" class="d-flex justify-content-sm-end align-items-center h-100">
                            <ol class="breadcrumb mb-0 d-inline-flex bg-transparent p-0">
                                <li class="breadcrumb-item"><a href="/admin"><i
                                            class="fas fa-home me-1"></i>Home</a></li>
                                <li class="breadcrumb-item"><a href="/productreport">Products Report</a></li>
                                <li class="breadcrumb-item"><a href="/contactreport">Contact Report</a></li>
                                <li class="breadcrumb-item"><a href="/paymentreport">Payment Report</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Users Report</li>
                            </ol>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
        <!-- breadcrumb -->

        <!-- searching form  -->
        <form class="mt-4 mb-4" action="/report" method="get">
            <div class="table-responsive">
                <table class="table">
                    <tbody>
                        <tr>
                            <td>
                                <div class="input-group">
                                    
                                    <select class="form-select" name="search" id="search">
                                        <option value="">Select</option>
                                        <option value="User">User</option>
                                        <option value="Seller">Seller</option>
                                    </select>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button type="submit" class="btn btn-primary w-100">Search</button>
                            </td>
                        </tr>
                        
                    </tbody>
                </table>
            </div>
        </form>
        <!-- searching form end  -->

        <label class="total-label" for="Total">Total: <%= count %></label>


        <!-- table start  -->

        <table class="table table-striped table-bordered">
            <thead class="thead-dark bg-primary">
                <tr>
                    <th class="text-secondary text-center">Name</th>
                    <th class="text-secondary text-center">Email</th>
                    <th class="text-secondary text-center">Category</th>
                    <th class="text-secondary text-center">Register Date</th>
                    <th class="text-secondary text-center">Action</th>
                </tr>
            </thead>
            <tbody>
                <% user.forEach((data) => { %>
                <tr>
                    <td class="text-center"><%= data.username %></td>
                    <td class="text-center"><%= data.email %></td>
                    <td class="text-center"><%= data.role %></td>
                    <td class="text-center"><%= data.registrationDate.toDateString() %></td>
                    <td class="text-center align-middle">
                        <a href="/delete/user/<%= data._id %>" onclick="return confirm('Are you sure you want to delete this user?');">
                            <button class="btn btn-outline-primary border border-primary rounded">Delete</button>
                        </a>
                    </td>
                </tr>
                <% }) %>
            </tbody>
        </table>
        
  

        <!-- table end  -->


         <!-- ============ footer start ======================= -->
         <%- include('../partials/footer') %>
         <!-- ================= footer end ====================== -->

         <!-- Include Scripts -->
         <script src="/js/jquery.min.js"></script>
         <script src="/js/greensock.js"></script>
         <script src="/js/layerslider.transitions.js"></script>
         <script src="/js/layerslider.kreaturamedia.jquery.js"></script>
         <script src="/js/popper.min.js"></script>
         <script src="/js/bootstrap.min.js"></script>
         <script src="/js/owl.carousel.min.js"></script>
         <script src="/js/wow.js"></script>
         <script src="/js/jquery.fancybox.min.js"></script>
         <script src="/js/jquery.countdown.js"></script>
         <script src="/js/paraxify.js"></script>
         <script src="/js/custom.js"></script>

         <!-- Initializing the slider -->
         <script>
             $(document).ready(function () {
                 $('#slider').layerSlider({
                     sliderVersion: '6.0.0',
                     type: 'responsive',
                     responsiveUnder: 0,
                     maxRatio: 1,
                     hideUnder: 0,
                     hideOver: 100000,
                     skin: 'v6',
                     navStartStop: false,
                     skinsPath: '/skins/',
                     height: 960
                 });
             });
         </script>


</body>

</html>